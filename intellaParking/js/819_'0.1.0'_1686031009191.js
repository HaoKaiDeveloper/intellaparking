"use strict";(self["webpackChunkintella_parking"]=self["webpackChunkintella_parking"]||[]).push([[819],{3819:function(e,a,l){l.r(a),l.d(a,{default:function(){return C}});var n=l(3396),t=l(7139);const o=e=>((0,n.dD)("data-v-39ae43e0"),e=e(),(0,n.Cn)(),e),i={key:0,class:"success"},c={class:"icon"},s=o((()=>(0,n._)("p",null,"付款成功",-1))),u=o((()=>(0,n._)("p",null,"發票將寄送至您指定工具",-1))),r={class:"msg"},p=o((()=>(0,n._)("span",null,"謝謝使用",-1))),m=o((()=>(0,n._)("button",null,"確認",-1))),v={key:1,class:"fail"},g={class:"icon"},k=o((()=>(0,n._)("p",null,"付款失敗",-1))),f=o((()=>(0,n._)("p",null,"將回到首頁",-1)));function _(e,a,l,o,_,d){const w=(0,n.up)("icon"),y=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("section",null,[o.result?((0,n.wg)(),(0,n.iD)("main",i,[(0,n._)("div",null,[(0,n._)("span",c,[(0,n.Wm)(w,{icon:"fa-solid fa-check"})]),s,u]),(0,n._)("p",r,[(0,n.Uk)("請於"+(0,t.zw)(o.leavaLimTime)+"分鐘內離場 ",1),p]),(0,n.Wm)(y,{to:`/p/${o.parkingToken.value}`,onClick:o.goHomePage},{default:(0,n.w5)((()=>[m])),_:1},8,["to","onClick"])])):((0,n.wg)(),(0,n.iD)("main",v,[(0,n._)("div",null,[(0,n._)("span",g,[(0,n.Wm)(w,{icon:"fa-solid fa-exclamation"})]),k,f])]))])}var d=l(4870),w=l(2483),y=l(65),I={setup(){const e=(0,d.iH)(!0),a=(0,d.iH)("15"),l=(0,w.yj)(),n=(0,w.tv)(),t=(0,y.oR)(),o=l.query.payment,i=(0,d.iH)("");let c=localStorage.getItem("parkingInfo");async function s(){if(o.length<1||!o)return void n.replace(`/p/${i.value}`);const l=await t.dispatch("checkPaymentSuccess",o);console.log(l),"0000"===l.status?(e.value=!0,a.value=l.result.leaveLimtTime):(e.value=!1,setTimeout((()=>{u()}),1e4))}function u(){localStorage.removeItem("allCarsInfo"),localStorage.removeItem("paymentUrl"),localStorage.removeItem("activeInvoice  "),n.replace(`/p/${i.value}`)}return c&&(c=JSON.parse(c),i.value=c.parkingToken),s(),{result:e,leavaLimTime:a,goHomePage:u,parkingToken:i}}},h=l(89);const T=(0,h.Z)(I,[["render",_],["__scopeId","data-v-39ae43e0"]]);var C=T}}]);
//# sourceMappingURL=819_'0.1.0'_1686031009191.js.map